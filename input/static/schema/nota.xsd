<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://www.w3.org/2001/XMLSchema"
        xmlns:nota="http://nota.org/schema/nota"
        xmlns:misc="http://nota.org/schema/misc"
        xmlns:lebewesen="http://nota.org/schema/lebewesen"
        xmlns:pfad="http://nota.org/schema/pfad"
        xmlns:profession="http://nota.org/schema/profession"
        xmlns:talent="http://nota.org/schema/talent"
        xmlns:fertigkeit="http://nota.org/schema/fertigkeit"
        xmlns:besonderheit="http://nota.org/schema/besonderheit"
        xmlns:aktion="http://nota.org/schema/kampf/aktionen"
        xmlns:ausstattung="http://nota.org/schema/kampf/ausstattung"
        targetNamespace="http://nota.org/schema/nota"
        elementFormDefault="qualified"   >
  <import namespace="http://nota.org/schema/misc" schemaLocation="misc.xsd"></import>
  <import namespace="http://nota.org/schema/lebewesen" schemaLocation="lebewesen.xsd"></import>
  <import namespace="http://nota.org/schema/pfad" schemaLocation="pfad.xsd"></import>
  <import namespace="http://nota.org/schema/profession" schemaLocation="profession.xsd"></import>
  <import namespace="http://nota.org/schema/talent" schemaLocation="talent.xsd"></import>
  <import namespace="http://nota.org/schema/fertigkeit" schemaLocation="fertigkeit.xsd"></import>
  <import namespace="http://nota.org/schema/besonderheit" schemaLocation="besonderheit.xsd"></import>
  <import namespace="http://nota.org/schema/kampf/aktionen" schemaLocation="kampf/aktionen.xsd"></import>
  <import namespace="http://nota.org/schema/kampf/ausstattung" schemaLocation="kampf/ausstattung.xsd"></import>
  <element name="Daten">
    <complexType>
      <sequence>
        <!--<element minOccurs="0" name="Pfade">
          <annotation>
            <documentation xml:lang="de">
              Neben Gattung Kultur und Profession, kÃ¶nnen noch weitere Entscheidungen bei der Charakterschaffung beschritten werden. Welche dies sind wird an dieser Stelle definiert.
            </documentation>
          </annotation>
          <complexType>
            <sequence maxOccurs="unbounded">
              <element  name="PfadAuswahl">
                <complexType>
                  <sequence >
                    <element name="Name" type="misc:Lokalisierungen">
                      <unique name="SpracheUnique1">
                        <selector xpath="misc:Lokalisirung"/>
                        <field xpath="./@Sparche"/>
                        <field xpath="./@Geschlecht"/>
                      </unique>
                    </element>
                    <element name="Beschreibung" type="misc:Lokalisierungen">
                      <unique name="SpracheUnique2">
                        <selector xpath="misc:Lokalisirung"/>
                        <field xpath="./@Sparche"/>
                        <field xpath="./@Geschlecht"/>
                      </unique>
                    </element>
                    <element name="Pfad" maxOccurs="unbounded">
                      <complexType>
                        <sequence>
                          <element name="Name" type="misc:Lokalisierungen">
                            <unique name="SpracheUnique3">
                              <selector xpath="misc:Lokalisirung"/>
                              <field xpath="./@Sparche"/>
                               <field xpath="./@Geschlecht"/>
                            </unique>
                          </element>
                          <element name="Beschreibung" type="misc:Lokalisierungen">
                            <unique name="SpracheUnique4">
                              <selector xpath="misc:Lokalisirung"/>
                              <field xpath="./@Geschlecht"/>
                              <field xpath="./@Sparche"/>
                            </unique>
                          </element>
                          <element name="Bedingung" maxOccurs="unbounded" minOccurs="0">
                            <complexType>
                              <annotation>
                                <documentation xml:lang="de">
                                  Falls es mindestens eine Bedingung Existiert, muss mindestens eine Bedingung Wahr sein damit die Auswahl gÃ¼ltig ist. Eine Bedingung ist wahr falls alle seine Kunder Wahr sind.
                                </documentation>
                              </annotation>
                              <sequence>
                                <element name="ProfessionsBedingung" type="profession:ProfessionAuswahlen" minOccurs="0" />
                                <element name="KulturBedingung" type="pfad:KulturAuswahlen" minOccurs="0"/>
                                <element name="LebewesenBedingung" type="lebewesen:LebewesenAuswahlen" minOccurs="0"/>
                              </sequence>
                            </complexType>
                          </element>
                          <element name="Modifikationen" type="lebewesen:Mods" minOccurs="0" />
                          <choice maxOccurs="unbounded" minOccurs="0">
                            <element ref="fertigkeit:Fertigkeit"/>
                            <element ref="talent:Talent"/>
                          </choice>
                        </sequence>
                        <attributeGroup ref="misc:NamedElement"/>

                      </complexType>
                    </element>
                  </sequence>

                  <attributeGroup ref="misc:NamedElement"/>

                  <attribute name="MinimumAuswahl" type="positiveInteger" default="1">
                    <annotation>
                      <documentation xml:lang="de">
                        Der Nutzer muss mindestens die angegebene Anzahl an auswahlen treffen. (Default ist 1)
                      </documentation>
                    </annotation>
                  </attribute>
                  <attribute name="MaximumAuswahl" type="positiveInteger" default="1">
                    <annotation>
                      <documentation xml:lang="de">
                        Der Nutzer muss mindestens die angegebene Anzahl an auswahlen treffen. (Default ist 1)
                      </documentation>
                    </annotation>
                  </attribute>
                </complexType>
              </element>
            </sequence>
          </complexType>
        </element>-->
        <element ref="lebewesen:Lebewesene"/>
        
        <element ref="pfad:PfadGruppen"/>
        <!--<element ref="profession:Professionen"/>-->
        <element ref="talent:Talente"/>
        <element ref="fertigkeit:Fertigkeiten"/>
        <element ref="besonderheit:Besonderheiten"/>
        <element ref="aktion:Taktiken"/>
        <element ref="ausstattung:Ausstattung"/>
        <element ref="misc:Tags" />

      </sequence>
      <attribute type="positiveInteger" name="Version" use="required"/>
    </complexType>

    <key name="BesonderheitPK">
      <selector xpath="./besonderheit:Besonderheiten/besonderheit:Besonderheit"/>
      <field xpath="@Id"/>
    </key>

    <key name="KulturPK">
      <selector xpath="./pfad:Kulturen/pfad:Kultur"/>
      <field xpath="@Id"/>
    </key>

    <key name="ProfessionPK">
      <selector xpath="./profession:Professionen/profession:Profession"/>
      <field xpath="@Id"/>
    </key>

    <key name="TalentPK">
      <selector xpath="./talent:Talente/talent:Talent"/>
      <field xpath="@Id"/>
    </key>

    <key name="FertigkeitPK">
      <selector xpath="./fertigkeit:Fertigkeiten/fertigkeit:Fertigkeit"/>
      <field xpath="@Id"/>
    </key>

    <key name="ausstattungEigenschaftPK">
      <selector xpath="./ausstattung:Ausstattung/ausstattung:Eigenschaften/ausstattung:Eigenschaft"/>
      <field xpath="@Id"/>
    </key>

    <key name="TagPK">
      <selector xpath="./misc:Tags/misc:Tag"/>
      <field xpath="@Id"/>
    </key>

    <keyref name="TagFK" refer="nota:TagPK">
      <selector xpath=".//misc:Tag"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="TalentFK" refer="nota:TalentPK">
      <selector xpath=".//talent:Talent"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="FertigkeitFK" refer="nota:FertigkeitPK">
      <selector xpath=".//fertigkeit:Fertigkeit"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="BesonderheitFK" refer="nota:BesonderheitPK">
      <selector xpath=".//besonderheit:Besonderheit"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="KulturFK" refer="nota:KulturPK">
      <selector xpath=".//pfad:Kultur"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="ProfessionFK" refer="nota:ProfessionPK">
      <selector xpath=".//profession:Profession"/>
      <field xpath="@Id"/>
    </keyref>

    <keyref name="ausstattungEigenschaftFK" refer="nota:ausstattungEigenschaftPK">
      <selector xpath=".//ausstattung:Eigenschaft"/>
      <field xpath="@Id"/>
    </keyref>


  </element>

</schema>